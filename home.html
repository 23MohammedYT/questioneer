<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>تحدي المعرفة</title>
		<link rel="stylesheet" href="home.css">
		<link rel="icon" href="icon.png">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
		<script type="text/javascript">
			// Initialize a dictionary variable to hold the form data
			let formDataDictionary = {};
			
			// Load a random form data entry from local storage when the page loads
			const existingData = localStorage.getItem('formData');
			if (existingData) {
				const jsonData = JSON.parse(existingData);
				
				// Select a random index from the jsonData array
				const randomIndex = Math.floor(Math.random() * jsonData.length);
				const randomEntry = jsonData[randomIndex]; // Get the random entry

				// Convert the random entry to a dictionary (object)
				formDataDictionary = { ...randomEntry }; // Spread syntax to create a new object
			}
		</script>
	</head>
	<body>
		<div class="overlay"></div>
		<span class="material-symbols-outlined header" id="add" onclick="showCreate()">add</span>
		<span class="material-symbols-outlined header" onclick="fullscreen()" id="settings">fullscreen</span>
		<div class="background"></div>
		
		<div class="mainMenu">
			<img src="logo.png" alt="Game Logo" class="logo">

			<div class="menu-buttons">
				<button class="menu-btn" id="startBtn" onclick="startGame(this.parentNode.parentNode)">ابدأ اللعب</button>
				<button class="menu-btn" id="createAccountBtn" onclick="accountCreation(document.querySelector('.account-create'), document.querySelector('#register_mode'), document.querySelector('#login_mode'))">انشئ حسابا</button>
				<button class="menu-btn" id="settingsBtn">الإعدادات</button>
			</div>
		</div>
		
		<div class="content" id="type1">
			<h1 class="question-place"></h1>

			<ul class="answer-list"></ul>

			<p class="hidden-answer"></p>
		</div>

		<div class="content" id="type2">
			<img id="image" class="question-image">
			<h1 class="question-place"></h1>

			<ul class="answer-list"></ul>

			<p class="hidden-answer"></p>
		</div>

		<div class="content" id="type3">
			<div class="images-container">
				<img id="image1" class="answer-image">
				<img id="image2" class="answer-image">
				<img id="image3" class="answer-image">
				<img id="image4" class="answer-image">
			</div>
			  
			<h1 class="question-place"></h1>

			<ul class="answer-list"></ul>
			  
			<p class="hidden-answer"></p>
		</div>
		
		<div id="blackback" onclick="hideCreate()"></div>
		<form name="question" method="post" enctype="multipart/form-data" class="question-container">
			<div class="form-title">Create a Question</div>

			<div class="question-type">
				<label>
					<input type="radio" name="questionType" value="normal" onchange="showInputs()" checked> Normal
				</label>
				<label>
					<input type="radio" name="questionType" value="oneImage" onchange="showInputs()"> One Image
				</label>
				<label>
					<input type="radio" name="questionType" value="fourImages" onchange="showInputs()"> Four Images
				</label>
			</div>

			<div id="normalInputs">
				<div id="oneImageInput" class="image-input" style="display: none;">
					<label for="questionImage">Select Image:</label>
					<input type="file" id="questionImage" class="input-field" accept="image/*">
					<input type="hidden" name="image">
				</div>

				<div id="fourImagesInput" class="image-input" style="display: none;">
					<label for="questionImage1">Image 1:</label>
					<input type="file" id="questionImage1" class="input-field" accept="image/*">
					<input type="hidden" name="image1">
					
					<label for="questionImage2">Image 2:</label>
					<input type="file" id="questionImage2" class="input-field" accept="image/*">
					<input type="hidden" name="image2">
					
					<label for="questionImage3">Image 3:</label>
					<input type="file" id="questionImage3" class="input-field" accept="image/*">
					<input type="hidden" name="image3">
					
					<label for="questionImage3">Image 4:</label>
					<input type="file" id="questionImage4" class="input-field" accept="image/*">
					<input type="hidden" name="image4">
				</div>

				<label for="question">Question:</label>
				<input type="text" name="question" id="question" class="input-field" placeholder="Enter your question here..." required>
				
				<label for="answer1">Answer 1:</label>
				<div class="answer-container">
					<input type="text" name="answer1" id="answer1" class="input-field answer-field" placeholder="Enter answer 1 here..." required>
					<label class="custom-checkbox">
						<input type="checkbox" name="correct_answer" value="1" class="single-checkbox" title="Correct Answer?" checked>
						<span class="checkmark"></span>
					</label>
				</div>
				
				<label for="answer2">Answer 2:</label>
				<div class="answer-container">
					<input type="text" name="answer2" id="answer2" class="input-field answer-field" placeholder="Enter answer 2 here..." required>
					<label class="custom-checkbox">
						<input type="checkbox" name="correct_answer" value="2" class="single-checkbox" title="Correct Answer?">
						<span class="checkmark"></span>
					</label>
				</div>
				
				<label for="answer3">Answer 3:</label>
				<div class="answer-container">
					<input type="text" name="answer3" id="answer3" class="input-field answer-field" placeholder="Enter answer 3 here..." required>
					<label class="custom-checkbox">
						<input type="checkbox" name="correct_answer" value="3" class="single-checkbox" title="Correct Answer?">
						<span class="checkmark"></span>
					</label>
				</div>
				
				<label for="answer4">Answer 4:</label>
				<div class="answer-container">
					<input type="text" name="answer4" id="answer4" class="input-field answer-field" placeholder="Enter answer 4 here..." required>
					<label class="custom-checkbox">
						<input type="checkbox" name="correct_answer" value="4" class="single-checkbox" title="Correct Answer?">
						<span class="checkmark"></span>
					</label>
				</div>
			</div>

			<button type="submit" class="submit-button">Submit</button>
			<p class="question_err" style="
				color: red;
				font-weight: bold;
				font-size: 18px;
			"></p>
		</form>
		
		<div class="account-create">
			<div class="register-mode">
				<span id="login_mode" onclick="showLogin(this, document.querySelector('#register_mode'))">Login</span>
				<span id="register_mode" onclick="showRegister(this, document.querySelector('#login_mode'), this.parentNode)">Register</span>
				<div id="dragger"></div>
			</div>
			<form class="login">
				<div class="form-title">Login</div>
				
				<label for="username">Username:</label>
				<input type="text" name="user" id="username" class="input-field" placeholder="Enter your password" required>
				
				<label for="password">Password:</label>
				<input type="password" name="pass" id="password" class="input-field" placeholder="Enter your password" required>
			
				<button type="submit" class="submit-button">Login</button>
				<p class="question_err" style="
					color: red;
					font-weight: bold;
					font-size: 18px;
				"></p>
			</form>
			<form class="register">
				<div class="form-title">Register</div>
				
				<label for="username">Username:</label>
				<input type="text" name="user" id="username" class="input-field" placeholder="Enter your password" required>
				
				<label for="email">Email:</label>
				<input type="email" name="email" id="email" class="input-field" placeholder="Enter your password" required>
				
				<label for="password">Password:</label>
				<input type="password" name="pass" id="password" class="input-field" placeholder="Enter your password" required>
			
				<button type="submit" class="submit-button">Register</button>
				<p class="question_err" style="
					color: red;
					font-weight: bold;
					font-size: 18px;
				"></p>
			</form>
		</div>
		
		<span class="material-symbols-outlined translate-icon" onclick="toggleTranslate(this)">g_translate</span>
		<div id="google_translate_element" onclick=""></div>
		<script src="script.js"></script>
		<script src="home.js"></script>
		<!-- <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> -->
		<script type="module">
			// Import the functions you need from the SDKs you need
			import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
			import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-analytics.js";
			import { getDatabase, ref, child, get, set, update, remove} from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";
			// TODO: Add SDKs for Firebase products that you want to use
			// https://firebase.google.com/docs/web/setup#available-libraries

			// Your web app's Firebase configuration
			// For Firebase JS SDK v7.20.0 and later, measurementId is optional
			const firebaseConfig = {
				apiKey: "AIzaSyA38fn_xehBSPg8r4_7l2curGqKXVnV4YA",
				authDomain: "quetioneer.firebaseapp.com",
				projectId: "quetioneer",
				storageBucket: "quetioneer.appspot.com",
				messagingSenderId: "69777224527",
				appId: "1:69777224527:web:57493d2b89823a11028b3a",
				measurementId: "G-769FP58R48"
			};

			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			const analytics = getAnalytics(app);
			const database = getDatabase(app);
			
			// Function to save scores
			function addData() {
				set(ref(database, 'question/' + '0'), {
					question: 'name',
					type: 'normal',
					answer1: 'answer1',
					answer2: 'answer2',
					answer3: 'answer3',
					answer4: 'answer4'
				})
				.then(()=>{
					alert('TRUE!!!');
				})
				.catch((error)=>{
					alert("FALSE!!!");
					console.log(error);
				})
			}

			// Example usage
			addData();
		</script>
	</body>
</html>
